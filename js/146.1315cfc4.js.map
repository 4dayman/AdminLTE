{"version":3,"file":"js/146.1315cfc4.js","mappings":"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","sources":["webpack://adminlte/./src/views/BanerView.vue","webpack://adminlte/./src/components/BannersList.vue","webpack://adminlte/./src/components/BannersList.vue?68b1","webpack://adminlte/./src/views/BanerView.vue?ecf9"],"sourcesContent":["<template>\n  <content-header title=\"Банера\" icon=\"fas fa-info-circle\" />\n  <content>\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">На главной верх</h3>\n          </div>\n          <div class=\"ml-3\"><h3>Размер: 1000х1900</h3></div>\n          <div class=\"card-body\">\n            <banners-list></banners-list>\n\n            <!-- Lorem ipsum dolor sit amet, consectetur adipisicing elit. -->\n            <!-- <div class=\"banner\" v-for=\"(banner, index) in banners\" :key=\"index\">\n              <BanerImage class=\"banner-preview\" path=\"folder/1.png\"/>\n              <div >                     \n                <img class=\"banner-preview\" :src=\"banner.url\">\n              </div>   \n              <button class=\"btn btn-primary\" @click=\"this.$refs.input.click()\">Добавить</button>\n               <input type=\"file\" ref=\"input\"\n                style=\"display: none\"\n                @change=\"previewImage\" accept=\"image/*\" >\n              <div class=\"input-group\">\n                <p>URL:</p>\n                <input class=\"form-control\" type=\"text\" placeholder=\"URL\" v-model=\"bannerUrl\">\n              </div>\n              <div class=\"input-group\">\n                <p>Title:</p>\n                <input class=\"form-control\" type=\"text\" placeholder=\"Title\" v-model=\"bannerTitle\">\n              </div>\n            </div> -->\n            <label class=\"banners_add\">\n              <button class=\"btn btn-primary square\" @click=\"this.$refs.bannersSelect.click()\"><i class=\"fas fa-plus\"></i> Добавить фото</button>\n              <input class=\"banner_input\" ref=\"bannersSelect\" type=\"file\" multiple=\"multiple\" accept=\"image/*\" @change=\"bannersSelect($event)\">\n            </label>\n          </div>\n          <div class=\"card-footer\">\n            <div>\n              <p>Скорость вращения {{ this.$store.state.banners.rotation }}</p>\n              <select class=\"form-control\" v-model=\"this.$store.state.banners.rotation\">\n                <option value=\"0\">0</option>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n              </select>\n            </div>\n            <button class=\"btn btn-primary float-right\" @click=\"uploadBanners\">Сохранить</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </content>\n</template>\n\n<script>\nimport { db, storage } from '../firebase/init'\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage'\nimport { doc, getDoc, setDoc } from \"firebase/firestore\"\n// import BanerImage from '../components/BanerImage.vue'\nimport BannersList from '../components/BannersList.vue'\nimport { mapMutations } from 'vuex'\n\nexport default {\n  components: {\n    // BanerImage,\n    BannersList\n  },\n  data() {\n    return {\n      // banners: [],\n    }\n  },\n  computed: {\n    // banners() {\n    //   return this.$store.state.banners.banners\n    // }\n  },\n  methods: {\n    // click1() {\n    //   this.$refs.input.click()\n    // },\n    // previewImage(event) {\n    //   const file = event.target.files[0];\n    //   this.url = URL.createObjectURL(file);\n    // },\n\n    async bannersSelect(input) {\n      // const file = event.target.files[0];\n      // this.url = URL.createObjectURL(file);\n      let banners = input.target.files\n      for (let i = 0; i < banners.length; i++) {\n        await new Promise(resolve => setTimeout(resolve, 1))\n        this.$store.state.banners.banners.push({\n          id: this.$store.state.banners.banners.length,\n          imageId: 'banner-' + Date.now(),\n          imgUrl: URL.createObjectURL(banners[i]),\n          url: '',\n          title: '',\n        })\n      }\n    },\n\n\n    // upload() {\n    //   const storageRef = ref(storage, 'folder/1.png')\n\n    //   uploadBytes(storageRef, this.$refs.input1.files[0]).then(\n    //     (snapshot) => {\n    //       console.log('uploaded')\n    //     }\n    //   )\n    // }\n    uploadBanners() {\n      // this.$store.banners.uploadBanners()\n      for (let i = 0; i < this.$store.state.banners.banners.length; i++) { \n        const bannersRef = ref(storage, \"banners/movies/\" + this.$store.state.banners.banners[i].imageId)\n        uploadBytes(bannersRef, this.$store.state.banners.banners[i].imgUrl).then(async () => {\n          await getDownloadURL(bannersRef).then((url) => {\n            this.$store.state.banners.banners[i].imgUrl = url\n          })\n        })\n      }\n      // console.log( 'uploaded' )\n    }\n  }\n}\n </script>\n\n<style scoped>\n.card-footer{\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n}\n.banner{\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n.banner, .banner-preview {\n  width: 240px;\n}\n.card-body {\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n.square {\n  width: 100px;\n  height: 100px;\n}\n\n\n.banner_input {\n  display: none;\n}\n\n</style>","<template>\r\n    <div class=\"banner\" v-for=\"(banner, i) in banners\" :key=\"i\">\r\n        <div class=\"card p-2 \">\r\n            <span class=\"badge bg-danger poa\" @click=\"deleteBanner(i)\">X</span>\r\n            <!-- <img src=\"https://wallpaperaccess.com/full/645154.jpg\"> -->\r\n            <img :src=\"banner.imgUrl\">\r\n            <!-- <button class=\"btn btn-primary\" @click=\"banner.show = !banner.show\">Добавить</button> -->\r\n            <div class=\"input-group\">\r\n                <p>URL:</p>\r\n                <input class=\"form-control ml-1\" type=\"text\" placeholder=\"URL\" v-model=\"banners[i].url\">\r\n            </div>\r\n            <div class=\"input-group\">\r\n                <p>Title:</p>\r\n                <input class=\"form-control ml-1\" type=\"text\" placeholder=\"Title\" v-model=\"banners[i].title\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    components: {},\r\n    computed: {\r\n        banners() {\r\n            return this.$store.state.banners.banners\r\n        }\r\n    },\r\n    data() {\r\n        return {}\r\n    },\r\n    methods: {\r\n        deleteBanner(i) {\r\n            this.banners.splice(i, 1)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.banner{\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n}\r\n.banner, .banner-preview {\r\n  width: 240px;\r\n}\r\n.card{\r\n    gap: 10px;\r\n}\r\n.poa{\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: -10px;\r\n    top: -10px;\r\n}\r\n</style>","import { render } from \"./BannersList.vue?vue&type=template&id=1656fb4c&scoped=true\"\nimport script from \"./BannersList.vue?vue&type=script&lang=js\"\nexport * from \"./BannersList.vue?vue&type=script&lang=js\"\n\nimport \"./BannersList.vue?vue&type=style&index=0&id=1656fb4c&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Dayman\\\\HTML_CSS_JScript\\\\5.0 -KinoCMS\\\\adminlte\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1656fb4c\"]])\n\nexport default __exports__","import { render } from \"./BanerView.vue?vue&type=template&id=1d5b6cf8&scoped=true\"\nimport script from \"./BanerView.vue?vue&type=script&lang=js\"\nexport * from \"./BanerView.vue?vue&type=script&lang=js\"\n\nimport \"./BanerView.vue?vue&type=style&index=0&id=1d5b6cf8&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Dayman\\\\HTML_CSS_JScript\\\\5.0 -KinoCMS\\\\adminlte\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1d5b6cf8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","value","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_createVNode","_component_content_header","title","icon","_component_content","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_banners_list","_hoisted_7","onClick","_cache","$event","$refs","bannersSelect","click","_hoisted_8","ref","type","multiple","accept","onChange","$options","_hoisted_9","_toDisplayString","$store","state","banners","rotation","args","uploadBanners","_createElementBlock","_Fragment","_renderList","banner","i","key","deleteBanner","src","imgUrl","placeholder","url","components","computed","this","data","methods","splice","__exports__","BannersList","async","input","target","files","length","Promise","resolve","setTimeout","push","id","imageId","Date","now","URL","createObjectURL","bannersRef","storage","uploadBytes","then","getDownloadURL","render"],"sourceRoot":""}