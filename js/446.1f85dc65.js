"use strict";(self["webpackChunkadminlte"]=self["webpackChunkadminlte"]||[]).push([[446],{446:function(n,e,a){a.r(e),a.d(e,{default:function(){return ne}});var s=a(6252),t=a(3577),r=a(9963);const l=n=>((0,s.dD)("data-v-d605f3f0"),n=n(),(0,s.Cn)(),n),i={class:"row"},o={class:"col"},d={class:"card"},c=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",null,"На главной верх")],-1))),b=l((()=>(0,s._)("div",{class:"ml-3"},[(0,s._)("h3",{class:"card-title"},"Размер: 1000х1900")],-1))),u={class:"card-body"},h={class:"banners_add"},B=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),p={class:"card-footer"},m=l((()=>(0,s._)("option",{value:"0"},"0c",-1))),g=l((()=>(0,s._)("option",{value:"1"},"1c",-1))),_=l((()=>(0,s._)("option",{value:"2"},"2c",-1))),w=l((()=>(0,s._)("option",{value:"3"},"3c",-1))),$=l((()=>(0,s._)("option",{value:"4"},"4c",-1))),v=l((()=>(0,s._)("option",{value:"5"},"5c",-1))),f=[m,g,_,w,$,v],y={class:"card"},U=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",null,"Сквозной банер на заднем фоне")],-1))),k=l((()=>(0,s._)("div",{class:"ml-3"},[(0,s._)("h3",{class:"card-title"},"Размер: 2000х3000")],-1))),D={class:"card-body body-column"},S={class:"bg_radio"},V=l((()=>(0,s._)("label",{for:"img"},[(0,s._)("p",null,"Фото на фон")],-1))),C={key:0,class:"bg_image_body ml-2"},q={key:0,class:"gb_image"},L=["src"],N={class:"banners_add"},R=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),A=l((()=>(0,s._)("i",{class:"fas fa-minus"},null,-1))),J={class:"bg_radio"},T=l((()=>(0,s._)("label",{for:"color"},[(0,s._)("p",null,"Просто фон")],-1))),H={key:0,class:"bg_image_body ml-2"},x={class:"banners_add"},z=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),K=l((()=>(0,s._)("i",{class:"fas fa-minus"},null,-1))),j={class:"card-footer center"},I={class:"card"},P=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",null,"На главной Новости Акции")],-1))),W=l((()=>(0,s._)("div",{class:"ml-3"},[(0,s._)("h3",{class:"card-title"},"Размер: 1000х1900")],-1))),Z={class:"card-body"},O={class:"banners_add"},Q=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),Y={class:"card-footer"},G=l((()=>(0,s._)("option",{value:"0"},"0c",-1))),M=l((()=>(0,s._)("option",{value:"1"},"1c",-1))),X=l((()=>(0,s._)("option",{value:"2"},"2c",-1))),E=l((()=>(0,s._)("option",{value:"3"},"3c",-1))),F=l((()=>(0,s._)("option",{value:"4"},"4c",-1))),nn=l((()=>(0,s._)("option",{value:"5"},"5c",-1))),en=[G,M,X,E,F,nn];function an(n,e,a,l,m,g){const _=(0,s.up)("content-header"),w=(0,s.up)("banners-list"),$=(0,s.up)("banners-news-list"),v=(0,s.up)("content");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(_,{title:"Банера",icon:"fas fa-info-circle"}),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",o,[(0,s._)("div",d,[c,b,(0,s._)("div",u,[(0,s.Wm)(w),(0,s._)("label",h,[(0,s._)("button",{class:"btn btn-primary square",onClick:e[0]||(e[0]=n=>this.$refs.bannersSelect.click())},[B,(0,s.Uk)(" Добавить фото")]),(0,s._)("input",{class:"banner_input",ref:"bannersSelect",type:"file",multiple:"multiple",accept:"image/*",onChange:e[1]||(e[1]=n=>g.bannersSelect(n))},null,544)])]),(0,s._)("div",p,[(0,s._)("div",null,[(0,s._)("p",null,"Скорость вращения: "+(0,t.zw)(this.$store.state.banners.mainBanners.rotationSpeed),1),(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=n=>this.$store.state.banners.mainBanners.rotationSpeed=n)},f,512),[[r.bM,this.$store.state.banners.mainBanners.rotationSpeed]])]),(0,s._)("button",{class:"btn btn-primary float-right",onClick:e[3]||(e[3]=(...n)=>g.uploadBannersAndData&&g.uploadBannersAndData(...n))},"Сохранить")]),(0,s._)("div",null,(0,t.zw)(this.$store.state.banners.mainBanners.data),1)]),(0,s._)("div",y,[U,k,(0,s._)("div",D,[(0,s._)("div",S,[(0,s.wy)((0,s._)("input",{class:"mt-1 mr-1",type:"radio",id:"img",value:"img","onUpdate:modelValue":e[4]||(e[4]=n=>this.$store.state.banners.bgBanners.radioValue=n)},null,512),[[r.G2,this.$store.state.banners.bgBanners.radioValue]]),V,"img"==this.$store.state.banners.bgBanners.radioValue?((0,s.wg)(),(0,s.iD)("div",C,[this.$store.state.banners.bgBanners.url?((0,s.wg)(),(0,s.iD)("div",q,[(0,s._)("img",{src:this.$store.state.banners.bgBanners.url},null,8,L)])):(0,s.kq)("",!0),(0,s._)("label",N,[(0,s._)("button",{class:"btn btn-primary square",onClick:e[5]||(e[5]=n=>this.$refs.bannersBgSelect.click())},[R,(0,s.Uk)(" Добавить фото")]),(0,s._)("input",{class:"banner_input",ref:"bannersBgSelect",type:"file",accept:"image/*",onChange:e[6]||(e[6]=n=>g.bannersBgSelect(n))},null,544)]),this.$store.state.banners.bgBanners.url?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-primary square",onClick:e[7]||(e[7]=n=>this.$store.state.banners.bgBanners.url="")},[A,(0,s.Uk)(" Удалить фото")])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",J,[(0,s.wy)((0,s._)("input",{class:"mt-1 mr-1",type:"radio",id:"color",value:"color","onUpdate:modelValue":e[8]||(e[8]=n=>this.$store.state.banners.bgBanners.radioValue=n)},null,512),[[r.G2,this.$store.state.banners.bgBanners.radioValue]]),T,"color"==this.$store.state.banners.bgBanners.radioValue?((0,s.wg)(),(0,s.iD)("div",H,[this.$store.state.banners.bgBanners.color?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"gb_image",style:(0,t.j5)({background:n.$store.state.banners.bgBanners.color})},(0,t.zw)(this.$store.state.banners.bgBanners.color),5)):(0,s.kq)("",!0),(0,s._)("label",x,[(0,s._)("button",{class:"btn btn-primary square",onClick:e[9]||(e[9]=n=>this.$refs.bannersBgColorSelect.click())},[z,(0,s.Uk)(" Выбрать цвет")]),(0,s.wy)((0,s._)("input",{class:"banner_input",ref:"bannersBgColorSelect",type:"color","onUpdate:modelValue":e[10]||(e[10]=n=>this.$store.state.banners.bgBanners.color=n)},null,512),[[r.nr,this.$store.state.banners.bgBanners.color]])]),this.$store.state.banners.bgBanners.color?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-primary square",onClick:e[11]||(e[11]=n=>this.$store.state.banners.bgBanners.color="")},[K,(0,s.Uk)(" Удалить цвет")])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",j,[(0,s._)("button",{class:"btn btn-primary",onClick:e[12]||(e[12]=(...n)=>g.uploadBannersBgAndData&&g.uploadBannersBgAndData(...n))},"Сохранить")]),(0,s._)("div",null,(0,t.zw)(this.$store.state.banners.bgBanners),1)]),(0,s._)("div",I,[P,W,(0,s._)("div",Z,[(0,s.Wm)($),(0,s._)("label",O,[(0,s._)("button",{class:"btn btn-primary square",onClick:e[13]||(e[13]=n=>this.$refs.bannersNewsSelect.click())},[Q,(0,s.Uk)(" Добавить фото")]),(0,s._)("input",{class:"banner_input",ref:"bannersNewsSelect",type:"file",multiple:"multiple",accept:"image/*",onChange:e[14]||(e[14]=n=>g.bannersNewsSelect(n))},null,544)])]),(0,s._)("div",Y,[(0,s._)("div",null,[(0,s._)("p",null,"Скорость вращения: "+(0,t.zw)(this.$store.state.banners.newsBanners.rotationSpeed),1),(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":e[15]||(e[15]=n=>this.$store.state.banners.newsBanners.rotationSpeed=n)},en,512),[[r.bM,this.$store.state.banners.newsBanners.rotationSpeed]])]),(0,s._)("button",{class:"btn btn-primary float-right",onClick:e[16]||(e[16]=(...n)=>g.uploadBannersNewsAndData&&g.uploadBannersNewsAndData(...n))},"Сохранить")]),(0,s._)("div",null,(0,t.zw)(this.$store.state.banners.newsBanners.data),1)])])])])),_:1})],64)}a(7658);var sn=a(2392),tn=a(6650),rn=a(3247);const ln=n=>((0,s.dD)("data-v-99ef04c4"),n=n(),(0,s.Cn)(),n),on={class:"card p-2"},dn=["onClick"],cn=["src"],bn={class:"input-group"},un=ln((()=>(0,s._)("p",null,"URL:",-1))),hn=["onUpdate:modelValue"],Bn={class:"input-group"},pn=ln((()=>(0,s._)("p",null,"Title:",-1))),mn=["onUpdate:modelValue"];function gn(n,e,a,t,l,i){return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.mainBanners.banners,((n,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"banner",key:e},[(0,s._)("div",on,[(0,s._)("span",{class:"badge bg-danger poa",onClick:e=>i.deleteBanner(n.id)},"X",8,dn),(0,s._)("img",{src:n.imgUrl},null,8,cn),(0,s._)("div",bn,[un,(0,s.wy)((0,s._)("input",{class:"form-control ml-1",type:"text",placeholder:"URL","onUpdate:modelValue":n=>i.mainBanners.data[e].url=n},null,8,hn),[[r.nr,i.mainBanners.data[e].url]])]),(0,s._)("div",Bn,[pn,(0,s.wy)((0,s._)("input",{class:"form-control ml-1",type:"text",placeholder:"Title","onUpdate:modelValue":n=>i.mainBanners.data[e].title=n},null,8,mn),[[r.nr,i.mainBanners.data[e].title]])])])])))),128)}var _n={components:{},computed:{mainBanners(){return this.$store.state.banners.mainBanners}},data(){return{}},methods:{deleteBanner(n){this.$store.state.banners.mainBanners.banners[n].uploaded&&this.$store.state.banners.mainBanners.deletedBanners.push(this.$store.state.banners.mainBanners.data[n].name),this.$store.state.banners.mainBanners.banners.splice(n,1),this.$store.state.banners.mainBanners.data.splice(n,1);for(let e=0;e<this.$store.state.banners.mainBanners.data.length;e++)this.$store.state.banners.mainBanners.data[e].id!==e&&this.$store.state.banners.mainBanners.banners[e].id!==e&&(this.$store.state.banners.mainBanners.data[e].id=this.$store.state.banners.mainBanners.banners[e].id=e)}}},wn=a(3744);const $n=(0,wn.Z)(_n,[["render",gn],["__scopeId","data-v-99ef04c4"]]);var vn=$n;const fn=n=>((0,s.dD)("data-v-7ffd67c2"),n=n(),(0,s.Cn)(),n),yn={class:"card p-2"},Un=["onClick"],kn=["src"],Dn={class:"input-group"},Sn=fn((()=>(0,s._)("p",null,"URL:",-1))),Vn=["onUpdate:modelValue"];function Cn(n,e,a,t,l,i){return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.newsBanners.banners,((n,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"banner",key:e},[(0,s._)("div",yn,[(0,s._)("span",{class:"badge bg-danger poa",onClick:e=>i.deleteBanner(n.id)},"X",8,Un),(0,s._)("img",{src:n.imgUrl},null,8,kn),(0,s._)("div",Dn,[Sn,(0,s.wy)((0,s._)("input",{class:"form-control ml-1",type:"text",placeholder:"URL","onUpdate:modelValue":n=>i.newsBanners.data[e].url=n},null,8,Vn),[[r.nr,i.newsBanners.data[e].url]])])])])))),128)}var qn={components:{},computed:{newsBanners(){return this.$store.state.banners.newsBanners}},data(){return{}},methods:{deleteBanner(n){this.$store.state.banners.newsBanners.banners[n].uploaded&&this.$store.state.banners.newsBanners.deletedBanners.push(this.$store.state.banners.newsBanners.data[n].name),this.$store.state.banners.newsBanners.banners.splice(n,1),this.$store.state.banners.newsBanners.data.splice(n,1);for(let e=0;e<this.$store.state.banners.newsBanners.data.length;e++)this.$store.state.banners.newsBanners.data[e].id!==e&&this.$store.state.banners.newsBanners.banners[e].id!==e&&(this.$store.state.banners.newsBanners.data[e].id=this.$store.state.banners.newsBanners.banners[e].id=e)}}};const Ln=(0,wn.Z)(qn,[["render",Cn],["__scopeId","data-v-7ffd67c2"]]);var Nn=Ln;const Rn=n=>((0,s.dD)("data-v-4cae9a49"),n=n(),(0,s.Cn)(),n),An={class:"lds-spinner"},Jn=Rn((()=>(0,s._)("div",null,null,-1))),Tn=Rn((()=>(0,s._)("div",null,null,-1))),Hn=Rn((()=>(0,s._)("div",null,null,-1))),xn=Rn((()=>(0,s._)("div",null,null,-1))),zn=Rn((()=>(0,s._)("div",null,null,-1))),Kn=Rn((()=>(0,s._)("div",null,null,-1))),jn=Rn((()=>(0,s._)("div",null,null,-1))),In=Rn((()=>(0,s._)("div",null,null,-1))),Pn=Rn((()=>(0,s._)("div",null,null,-1))),Wn=Rn((()=>(0,s._)("div",null,null,-1))),Zn=Rn((()=>(0,s._)("div",null,null,-1))),On=Rn((()=>(0,s._)("div",null,null,-1))),Qn=[Jn,Tn,Hn,xn,zn,Kn,jn,In,Pn,Wn,Zn,On];function Yn(n,e,a,t,r,l){return(0,s.wg)(),(0,s.iD)("div",An,Qn)}var Gn={name:"Loader"};const Mn=(0,wn.Z)(Gn,[["render",Yn],["__scopeId","data-v-4cae9a49"]]);var Xn=Mn,En={components:{BannersList:vn,BannersNewsList:Nn,Loader:Xn},created(){this.getBanners(),this.getBannersNews(),this.getBannersBg()},methods:{async bannersSelect(n){let e=n.target.files;for(let a=0;a<e.length;a++)await new Promise((n=>setTimeout(n,1))),this.$store.state.banners.mainBanners.data.push({id:this.$store.state.banners.mainBanners.data.length,name:"banner-"+Date.now(),url:"",title:"",imgUrl:null}),this.$store.state.banners.mainBanners.banners.push({id:this.$store.state.banners.mainBanners.banners.length,uploaded:!1,image:e[a],imgUrl:URL.createObjectURL(e[a])})},async uploadBannersAndData(){this.uploadBanners().then((async()=>{await new Promise((n=>setTimeout(n,3e3))),this.uploadBannersData(),console.log("uploaded(movies)")}))},async uploadBanners(){if(0!==this.$store.state.banners.mainBanners.deletedBanners.length)for(let e=0;e<this.$store.state.banners.mainBanners.deletedBanners.length;e++){const n=(0,tn.iH)(sn.t,"banners/movies/"+this.$store.state.banners.mainBanners.deletedBanners[e]);await(0,tn.oq)(n).then((()=>{this.$store.state.banners.mainBanners.deletedBanners.splice(e,1)})).catch((n=>{console.log(n)}))}for(let e=0;e<this.$store.state.banners.mainBanners.banners.length;e++)if(null!==this.$store.state.banners.mainBanners.banners[e].image)try{const n=(0,tn.iH)(sn.t,"banners/movies/"+this.$store.state.banners.mainBanners.data[e].name);(0,tn.KV)(n,this.$store.state.banners.mainBanners.banners[e].image).then((async()=>{await(0,tn.Jt)(n).then((n=>{this.$store.state.banners.mainBanners.data[e].imgUrl=n}))}))}catch(n){console.log(n)}console.log(sn.db)},async uploadBannersData(){await(0,rn.pl)((0,rn.JU)(sn.db,"banners","movies"),{data:this.$store.state.banners.mainBanners.data,rotationSpeed:this.$store.state.banners.mainBanners.rotationSpeed})},async getBanners(){this.$store.state.banners.mainBanners.data=[],this.$store.state.banners.mainBanners.banners=[];const n=(0,rn.JU)(sn.db,"banners","movies"),e=await(0,rn.QT)(n);if(e.exists()){this.$store.state.banners.mainBanners.rotationSpeed=e.data().rotationSpeed,this.$store.state.banners.mainBanners.data=e.data().data;for(let n=0;n<this.$store.state.banners.mainBanners.data.length;n++)this.$store.state.banners.mainBanners.banners.push({id:n,uploaded:!0,image:null,imgUrl:this.$store.state.banners.mainBanners.data[n].imgUrl})}},async bannersBgSelect(n){let e=n.target.files[0];this.$store.state.banners.bgBanners.image=e,this.$store.state.banners.bgBanners.url=URL.createObjectURL(e)},async uploadBannersBgAndData(){if(null!==this.$store.state.banners.bgBanners.image)try{const n=(0,tn.iH)(sn.t,"banners/bg/bg-1");await(0,tn.KV)(n,this.$store.state.banners.bgBanners.image).then((async()=>{await(0,tn.Jt)(n).then((n=>{this.$store.state.banners.bgBanners.url=n,this.uploadBannersBgData()}))}))}catch(n){console.log(n)}else this.uploadBannersBgData()},async uploadBannersBgData(){try{await(0,rn.pl)((0,rn.JU)(sn.db,"banners","bg"),{radioValue:this.$store.state.banners.bgBanners.radioValue,url:this.$store.state.banners.bgBanners.url,color:this.$store.state.banners.bgBanners.color})}catch(n){console.log(n)}},async getBannersBg(){this.$store.state.banners.bgBanners.radioValue="",this.$store.state.banners.bgBanners.url="",this.$store.state.banners.bgBanners.color="";const n=(0,rn.JU)(sn.db,"banners","bg"),e=await(0,rn.QT)(n);e.exists()&&(this.$store.state.banners.bgBanners.radioValue=e.data().radioValue,this.$store.state.banners.bgBanners.url=e.data().url,this.$store.state.banners.bgBanners.color=e.data().color)},async bannersNewsSelect(n){let e=n.target.files;for(let a=0;a<e.length;a++)await new Promise((n=>setTimeout(n,1))),this.$store.state.banners.newsBanners.data.push({id:this.$store.state.banners.newsBanners.data.length,name:"news-"+Date.now(),url:"",imgUrl:null}),this.$store.state.banners.newsBanners.banners.push({id:this.$store.state.banners.newsBanners.banners.length,uploaded:!1,image:e[a],imgUrl:URL.createObjectURL(e[a])})},async uploadBannersNewsAndData(){this.uploadBannersNews().then((async()=>{await new Promise((n=>setTimeout(n,3e3))),this.uploadBannersNewsData(),console.log("uploaded(news)")}))},async uploadBannersNews(){if(0!==this.$store.state.banners.newsBanners.deletedBanners.length)for(let e=0;e<this.$store.state.banners.newsBanners.deletedBanners.length;e++){const n=(0,tn.iH)(sn.t,"banners/news/"+this.$store.state.banners.newsBanners.deletedBanners[e]);await(0,tn.oq)(n).then((()=>{this.$store.state.banners.newsBanners.deletedBanners.splice(e,1)})).catch((n=>{console.log(n)}))}for(let e=0;e<this.$store.state.banners.newsBanners.banners.length;e++)if(null!==this.$store.state.banners.newsBanners.banners[e].image)try{const n=(0,tn.iH)(sn.t,"banners/news/"+this.$store.state.banners.newsBanners.data[e].name);(0,tn.KV)(n,this.$store.state.banners.newsBanners.banners[e].image).then((async()=>{await(0,tn.Jt)(n).then((n=>{this.$store.state.banners.newsBanners.data[e].imgUrl=n}))}))}catch(n){console.log(n)}console.log(sn.db)},async uploadBannersNewsData(){await(0,rn.pl)((0,rn.JU)(sn.db,"banners","news"),{data:this.$store.state.banners.newsBanners.data,rotationSpeed:this.$store.state.banners.newsBanners.rotationSpeed})},async getBannersNews(){this.$store.state.banners.newsBanners.data=[],this.$store.state.banners.newsBanners.banners=[];const n=(0,rn.JU)(sn.db,"banners","news"),e=await(0,rn.QT)(n);if(e.exists()){this.$store.state.banners.newsBanners.rotationSpeed=e.data().rotationSpeed,this.$store.state.banners.newsBanners.data=e.data().data;for(let n=0;n<this.$store.state.banners.newsBanners.data.length;n++)this.$store.state.banners.newsBanners.banners.push({id:n,uploaded:!0,image:null,imgUrl:this.$store.state.banners.newsBanners.data[n].imgUrl})}}}};const Fn=(0,wn.Z)(En,[["render",an],["__scopeId","data-v-d605f3f0"]]);var ne=Fn}}]);
//# sourceMappingURL=446.1f85dc65.js.map