"use strict";(self["webpackChunkadminlte"]=self["webpackChunkadminlte"]||[]).push([[207],{207:function(e,n,a){a.r(n),a.d(n,{default:function(){return Re}});var s=a(6252),t=a(3577),r=a(9963);const l=e=>((0,s.dD)("data-v-5e160429"),e=e(),(0,s.Cn)(),e),i={class:"row"},o={class:"col"},d={class:"card"},b=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",{class:"card-title"},"На главной верх")],-1))),c=l((()=>(0,s._)("div",{class:"ml-3"},[(0,s._)("h3",null,"Размер: 1000х1900")],-1))),u={class:"card-body"},g={class:"banners_add"},h=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),B={class:"card-footer"},m=l((()=>(0,s._)("option",{value:"0"},"0c",-1))),p=l((()=>(0,s._)("option",{value:"1"},"1c",-1))),$=l((()=>(0,s._)("option",{value:"2"},"2c",-1))),w=l((()=>(0,s._)("option",{value:"3"},"3c",-1))),_=l((()=>(0,s._)("option",{value:"4"},"4c",-1))),f=l((()=>(0,s._)("option",{value:"5"},"5c",-1))),v=[m,p,$,w,_,f],y={class:"card"},U=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",{class:"card-title"},"Сквозной банер на заднем фоне")],-1))),k=l((()=>(0,s._)("div",{class:"ml-3"},[(0,s._)("h3",null,"Размер: 2000х3000")],-1))),D={class:"card-body body-column"},S={class:"bg_radio"},V=l((()=>(0,s._)("label",{for:"img"},[(0,s._)("p",null,"Фото на фон")],-1))),C={key:0,class:"bg_image_body ml-2"},I={key:0,class:"gb_image"},q=["src"],N={class:"banners_add"},L=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),R=l((()=>(0,s._)("i",{class:"fas fa-minus"},null,-1))),A={class:"bg_radio"},J=l((()=>(0,s._)("label",{for:"color"},[(0,s._)("p",null,"Просто фон")],-1))),T={key:0,class:"bg_image_body ml-2"},H={class:"banners_add"},x=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),z=l((()=>(0,s._)("i",{class:"fas fa-minus"},null,-1))),K={class:"card-footer center"},j={class:"card"},P=l((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",{class:"card-title"},"На главной Новости Акции")],-1))),W=l((()=>(0,s._)("div",{class:"ml-3"},[(0,s._)("h3",null,"Размер: 1000х1900")],-1))),O={class:"card-body"},Q={class:"banners_add"},Y=l((()=>(0,s._)("i",{class:"fas fa-plus"},null,-1))),Z={class:"card-footer"},G=l((()=>(0,s._)("option",{value:"0"},"0c",-1))),M=l((()=>(0,s._)("option",{value:"1"},"1c",-1))),X=l((()=>(0,s._)("option",{value:"2"},"2c",-1))),E=l((()=>(0,s._)("option",{value:"3"},"3c",-1))),F=l((()=>(0,s._)("option",{value:"4"},"4c",-1))),ee=l((()=>(0,s._)("option",{value:"5"},"5c",-1))),ne=[G,M,X,E,F,ee];function ae(e,n,a,l,m,p){const $=(0,s.up)("content-header"),w=(0,s.up)("banners-list"),_=(0,s.up)("banners-news-list"),f=(0,s.up)("content");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)($,{title:"Банера",icon:"fas fa-info-circle"}),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s._)("div",i,[(0,s._)("div",o,[(0,s._)("div",d,[b,c,(0,s._)("div",u,[(0,s.Wm)(w),(0,s._)("label",g,[(0,s._)("button",{class:"btn btn-primary square",onClick:n[0]||(n[0]=e=>this.$refs.bannersSelect.click())},[h,(0,s.Uk)(" Добавить фото")]),(0,s._)("input",{class:"banner_input",ref:"bannersSelect",type:"file",multiple:"multiple",accept:"image/*",onChange:n[1]||(n[1]=e=>p.bannersSelect(e))},null,544)])]),(0,s._)("div",B,[(0,s._)("div",null,[(0,s._)("p",null,"Скорость вращения: "+(0,t.zw)(this.$store.state.banners.mainBanners.rotationSpeed),1),(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":n[2]||(n[2]=e=>this.$store.state.banners.mainBanners.rotationSpeed=e)},v,512),[[r.bM,this.$store.state.banners.mainBanners.rotationSpeed]])]),(0,s._)("button",{class:"btn btn-primary float-right",onClick:n[3]||(n[3]=(...e)=>p.uploadBannersAndData&&p.uploadBannersAndData(...e))},"Сохранить")]),(0,s._)("div",null,(0,t.zw)(this.$store.state.banners.mainBanners.data),1)]),(0,s._)("div",y,[U,k,(0,s._)("div",D,[(0,s._)("div",S,[(0,s.wy)((0,s._)("input",{class:"mt-1 mr-1",type:"radio",id:"img",value:"img","onUpdate:modelValue":n[4]||(n[4]=e=>this.$store.state.banners.bgBanners.radioValue=e)},null,512),[[r.G2,this.$store.state.banners.bgBanners.radioValue]]),V,"img"==this.$store.state.banners.bgBanners.radioValue?((0,s.wg)(),(0,s.iD)("div",C,[this.$store.state.banners.bgBanners.bgImage.url?((0,s.wg)(),(0,s.iD)("div",I,[(0,s._)("img",{src:this.$store.state.banners.bgBanners.bgImage.url},null,8,q)])):(0,s.kq)("",!0),(0,s._)("label",N,[(0,s._)("button",{class:"btn btn-primary square",onClick:n[5]||(n[5]=e=>this.$refs.bannersBgSelect.click())},[L,(0,s.Uk)(" Добавить фото")]),(0,s._)("input",{class:"banner_input",ref:"bannersBgSelect",type:"file",accept:"image/*",onChange:n[6]||(n[6]=e=>p.bannersBgSelect(e))},null,544)]),this.$store.state.banners.bgBanners.bgImage.url?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-primary square",onClick:n[7]||(n[7]=e=>this.$store.state.banners.bgBanners.bgImage.url="")},[R,(0,s.Uk)(" Удалить фото")])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)]),(0,s._)("div",A,[(0,s.wy)((0,s._)("input",{class:"mt-1 mr-1",type:"radio",id:"color",value:"color","onUpdate:modelValue":n[8]||(n[8]=e=>this.$store.state.banners.bgBanners.radioValue=e)},null,512),[[r.G2,this.$store.state.banners.bgBanners.radioValue]]),J,"color"==this.$store.state.banners.bgBanners.radioValue?((0,s.wg)(),(0,s.iD)("div",T,[this.$store.state.banners.bgBanners.color?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"gb_image",style:(0,t.j5)({background:e.$store.state.banners.bgBanners.color})},(0,t.zw)(this.$store.state.banners.bgBanners.color),5)):(0,s.kq)("",!0),(0,s._)("label",H,[(0,s._)("button",{class:"btn btn-primary square",onClick:n[9]||(n[9]=e=>this.$refs.bannersBgColorSelect.click())},[x,(0,s.Uk)(" Выбрать цвет")]),(0,s.wy)((0,s._)("input",{class:"banner_input",ref:"bannersBgColorSelect",type:"color","onUpdate:modelValue":n[10]||(n[10]=e=>this.$store.state.banners.bgBanners.color=e)},null,512),[[r.nr,this.$store.state.banners.bgBanners.color]])]),this.$store.state.banners.bgBanners.color?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-primary square",onClick:n[11]||(n[11]=e=>this.$store.state.banners.bgBanners.color="")},[z,(0,s.Uk)(" Удалить цвет")])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("div",K,[(0,s._)("button",{class:"btn btn-primary",onClick:n[12]||(n[12]=(...e)=>p.uploadBannersBgAndData&&p.uploadBannersBgAndData(...e))},"Сохранить")]),(0,s._)("div",null,(0,t.zw)(this.$store.state.banners.bgBanners),1)]),(0,s._)("div",j,[P,W,(0,s._)("div",O,[(0,s.Wm)(_),(0,s._)("label",Q,[(0,s._)("button",{class:"btn btn-primary square",onClick:n[13]||(n[13]=e=>this.$refs.bannersNewsSelect.click())},[Y,(0,s.Uk)(" Добавить фото")]),(0,s._)("input",{class:"banner_input",ref:"bannersNewsSelect",type:"file",multiple:"multiple",accept:"image/*",onChange:n[14]||(n[14]=e=>p.bannersNewsSelect(e))},null,544)])]),(0,s._)("div",Z,[(0,s._)("div",null,[(0,s._)("p",null,"Скорость вращения: "+(0,t.zw)(this.$store.state.banners.newsBanners.rotationSpeed),1),(0,s.wy)((0,s._)("select",{class:"form-control","onUpdate:modelValue":n[15]||(n[15]=e=>this.$store.state.banners.newsBanners.rotationSpeed=e)},ne,512),[[r.bM,this.$store.state.banners.newsBanners.rotationSpeed]])]),(0,s._)("button",{class:"btn btn-primary float-right",onClick:n[16]||(n[16]=(...e)=>p.uploadBannersNewsAndData&&p.uploadBannersNewsAndData(...e))},"Сохранить")]),(0,s._)("div",null,(0,t.zw)(this.$store.state.banners.newsBanners.data),1)])])])])),_:1})],64)}a(7658);var se=a(2392),te=a(6650),re=a(3247);const le=e=>((0,s.dD)("data-v-5c85d64f"),e=e(),(0,s.Cn)(),e),ie={class:"card p-2"},oe=["onClick"],de=["src"],be={class:"input-group"},ce=le((()=>(0,s._)("p",null,"URL:",-1))),ue=["onUpdate:modelValue"],ge={class:"input-group"},he=le((()=>(0,s._)("p",null,"Title:",-1))),Be=["onUpdate:modelValue"];function me(e,n,a,t,l,i){return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.mainBanners.banners,((e,n)=>((0,s.wg)(),(0,s.iD)("div",{class:"banner",key:n},[(0,s._)("div",ie,[(0,s._)("span",{class:"badge bg-danger poa",onClick:n=>i.deleteBanner(e.id)},"X",8,oe),(0,s._)("img",{src:e.imgUrl},null,8,de),(0,s._)("div",be,[ce,(0,s.wy)((0,s._)("input",{class:"form-control ml-1",type:"text",placeholder:"URL","onUpdate:modelValue":e=>i.mainBanners.data[n].url=e},null,8,ue),[[r.nr,i.mainBanners.data[n].url]])]),(0,s._)("div",ge,[he,(0,s.wy)((0,s._)("input",{class:"form-control ml-1",type:"text",placeholder:"Title","onUpdate:modelValue":e=>i.mainBanners.data[n].title=e},null,8,Be),[[r.nr,i.mainBanners.data[n].title]])])])])))),128)}var pe={components:{},computed:{mainBanners(){return this.$store.state.banners.mainBanners}},data(){return{}},methods:{deleteBanner(e){this.$store.state.banners.mainBanners.banners[e].uploaded&&this.$store.state.banners.mainBanners.deletedBanners.push(this.$store.state.banners.mainBanners.data[e].name),this.$store.state.banners.mainBanners.banners.splice(e,1),this.$store.state.banners.mainBanners.data.splice(e,1);for(let n=0;n<this.$store.state.banners.mainBanners.data.length;n++)this.$store.state.banners.mainBanners.data[n].id!==n&&this.$store.state.banners.mainBanners.banners[n].id!==n&&(this.$store.state.banners.mainBanners.data[n].id=this.$store.state.banners.mainBanners.banners[n].id=n)}}},$e=a(3744);const we=(0,$e.Z)(pe,[["render",me],["__scopeId","data-v-5c85d64f"]]);var _e=we;const fe=e=>((0,s.dD)("data-v-6d85f1e3"),e=e(),(0,s.Cn)(),e),ve={class:"card p-2"},ye=["onClick"],Ue=["src"],ke={class:"input-group"},De=fe((()=>(0,s._)("p",null,"URL:",-1))),Se=["onUpdate:modelValue"];function Ve(e,n,a,t,l,i){return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.newsBanners.banners,((e,n)=>((0,s.wg)(),(0,s.iD)("div",{class:"banner",key:n},[(0,s._)("div",ve,[(0,s._)("span",{class:"badge bg-danger poa",onClick:n=>i.deleteBanner(e.id)},"X",8,ye),(0,s._)("img",{src:e.imgUrl},null,8,Ue),(0,s._)("div",ke,[De,(0,s.wy)((0,s._)("input",{class:"form-control ml-1",type:"text",placeholder:"URL","onUpdate:modelValue":e=>i.newsBanners.data[n].url=e},null,8,Se),[[r.nr,i.newsBanners.data[n].url]])])])])))),128)}var Ce={components:{},computed:{newsBanners(){return this.$store.state.banners.newsBanners}},data(){return{}},methods:{deleteBanner(e){this.$store.state.banners.newsBanners.banners[e].uploaded&&this.$store.state.banners.newsBanners.deletedBanners.push(this.$store.state.banners.newsBanners.data[e].name),this.$store.state.banners.newsBanners.banners.splice(e,1),this.$store.state.banners.newsBanners.data.splice(e,1);for(let n=0;n<this.$store.state.banners.newsBanners.data.length;n++)this.$store.state.banners.newsBanners.data[n].id!==n&&this.$store.state.banners.newsBanners.banners[n].id!==n&&(this.$store.state.banners.newsBanners.data[n].id=this.$store.state.banners.newsBanners.banners[n].id=n)}}};const Ie=(0,$e.Z)(Ce,[["render",Ve],["__scopeId","data-v-6d85f1e3"]]);var qe=Ie,Ne={components:{BannersList:_e,BannersNewsList:qe},created(){this.getBanners(),this.getBannersNews(),this.getBannersBg()},methods:{async bannersSelect(e){let n=e.target.files;for(let a=0;a<n.length;a++)await new Promise((e=>setTimeout(e,1))),this.$store.state.banners.mainBanners.data.push({id:this.$store.state.banners.mainBanners.data.length,name:"banner-"+Date.now(),url:"",title:"",imgUrl:null}),this.$store.state.banners.mainBanners.banners.push({id:this.$store.state.banners.mainBanners.banners.length,uploaded:!1,image:n[a],imgUrl:URL.createObjectURL(n[a])})},async uploadBannersAndData(){this.uploadBanners().then((async()=>{await new Promise((e=>setTimeout(e,3e3))),this.uploadBannersData(),console.log("uploaded(movies)")}))},async uploadBanners(){if(0!==this.$store.state.banners.mainBanners.deletedBanners.length)for(let n=0;n<this.$store.state.banners.mainBanners.deletedBanners.length;n++){const e=(0,te.iH)(se.t,"banners/movies/"+this.$store.state.banners.mainBanners.deletedBanners[n]);await(0,te.oq)(e).then((()=>{this.$store.state.banners.mainBanners.deletedBanners.splice(n,1)})).catch((e=>{console.log(e)}))}for(let n=0;n<this.$store.state.banners.mainBanners.banners.length;n++)if(null!==this.$store.state.banners.mainBanners.banners[n].image)try{const e=(0,te.iH)(se.t,"banners/movies/"+this.$store.state.banners.mainBanners.data[n].name);(0,te.KV)(e,this.$store.state.banners.mainBanners.banners[n].image).then((async()=>{await(0,te.Jt)(e).then((e=>{this.$store.state.banners.mainBanners.data[n].imgUrl=e}))}))}catch(e){console.log(e)}console.log(se.db)},async uploadBannersData(){await(0,re.pl)((0,re.JU)(se.db,"banners","movies"),{data:this.$store.state.banners.mainBanners.data,rotationSpeed:this.$store.state.banners.mainBanners.rotationSpeed})},async getBanners(){this.$store.state.banners.mainBanners.data=[],this.$store.state.banners.mainBanners.banners=[];const e=(0,re.JU)(se.db,"banners","movies"),n=await(0,re.QT)(e);if(n.exists()){this.$store.state.banners.mainBanners.rotationSpeed=n.data().rotationSpeed,this.$store.state.banners.mainBanners.data=n.data().data;for(let e=0;e<this.$store.state.banners.mainBanners.data.length;e++)this.$store.state.banners.mainBanners.banners.push({id:e,uploaded:!0,image:null,imgUrl:this.$store.state.banners.mainBanners.data[e].imgUrl})}},async bannersBgSelect(e){let n=e.target.files[0];this.$store.state.banners.bgBanners.image=n,this.$store.state.banners.bgBanners.bgImage.url=URL.createObjectURL(n)},async uploadBannersBgAndData(){if(null!==this.$store.state.banners.bgBanners.image)try{const e=(0,te.iH)(se.t,"banners/bg/bg-1");await(0,te.KV)(e,this.$store.state.banners.bgBanners.image).then((async()=>{await(0,te.Jt)(e).then((e=>{this.$store.state.banners.bgBanners.bgImage.url=e,this.$store.state.banners.bgBanners.image=null,this.$store.state.banners.bgBanners.color="",this.uploadBannersBgData()}))}))}catch(e){console.log(e)}else this.$store.state.banners.bgBanners.bgImage.url="",this.uploadBannersBgData()},async uploadBannersBgData(){try{await(0,re.pl)((0,re.JU)(se.db,"banners","bg"),{radioValue:this.$store.state.banners.bgBanners.radioValue,bgImage:this.$store.state.banners.bgBanners.bgImage,color:this.$store.state.banners.bgBanners.color})}catch(e){console.log(e)}},async getBannersBg(){this.$store.state.banners.bgBanners.radioValue="",this.$store.state.banners.bgBanners.bgImage.name="",this.$store.state.banners.bgBanners.bgImage.url="",this.$store.state.banners.bgBanners.image=null,this.$store.state.banners.bgBanners.color="";const e=(0,re.JU)(se.db,"banners","bg"),n=await(0,re.QT)(e);n.exists()&&(this.$store.state.banners.bgBanners.radioValue=n.data().radioValue,this.$store.state.banners.bgBanners.bgImage=n.data().bgImage,this.$store.state.banners.bgBanners.color=n.data().color)},async bannersNewsSelect(e){let n=e.target.files;for(let a=0;a<n.length;a++)await new Promise((e=>setTimeout(e,1))),this.$store.state.banners.newsBanners.data.push({id:this.$store.state.banners.newsBanners.data.length,name:"news-"+Date.now(),url:"",imgUrl:null}),this.$store.state.banners.newsBanners.banners.push({id:this.$store.state.banners.newsBanners.banners.length,uploaded:!1,image:n[a],imgUrl:URL.createObjectURL(n[a])})},async uploadBannersNewsAndData(){this.uploadBannersNews().then((async()=>{await new Promise((e=>setTimeout(e,3e3))),this.uploadBannersNewsData(),console.log("uploaded(news)")}))},async uploadBannersNews(){if(0!==this.$store.state.banners.newsBanners.deletedBanners.length)for(let n=0;n<this.$store.state.banners.newsBanners.deletedBanners.length;n++){const e=(0,te.iH)(se.t,"banners/news/"+this.$store.state.banners.newsBanners.deletedBanners[n]);await(0,te.oq)(e).then((()=>{this.$store.state.banners.newsBanners.deletedBanners.splice(n,1)})).catch((e=>{console.log(e)}))}for(let n=0;n<this.$store.state.banners.newsBanners.banners.length;n++)if(null!==this.$store.state.banners.newsBanners.banners[n].image)try{const e=(0,te.iH)(se.t,"banners/news/"+this.$store.state.banners.newsBanners.data[n].name);(0,te.KV)(e,this.$store.state.banners.newsBanners.banners[n].image).then((async()=>{await(0,te.Jt)(e).then((e=>{this.$store.state.banners.newsBanners.data[n].imgUrl=e}))}))}catch(e){console.log(e)}console.log(se.db)},async uploadBannersNewsData(){await(0,re.pl)((0,re.JU)(se.db,"banners","news"),{data:this.$store.state.banners.newsBanners.data,rotationSpeed:this.$store.state.banners.newsBanners.rotationSpeed})},async getBannersNews(){this.$store.state.banners.newsBanners.data=[],this.$store.state.banners.newsBanners.banners=[];const e=(0,re.JU)(se.db,"banners","news"),n=await(0,re.QT)(e);if(n.exists()){this.$store.state.banners.newsBanners.rotationSpeed=n.data().rotationSpeed,this.$store.state.banners.newsBanners.data=n.data().data;for(let e=0;e<this.$store.state.banners.newsBanners.data.length;e++)this.$store.state.banners.newsBanners.banners.push({id:e,uploaded:!0,image:null,imgUrl:this.$store.state.banners.newsBanners.data[e].imgUrl})}}}};const Le=(0,$e.Z)(Ne,[["render",ae],["__scopeId","data-v-5e160429"]]);var Re=Le}}]);
//# sourceMappingURL=207.7157be45.js.map